---
import skillsData from '../../data/skills.json';
import TechIcon from '../ui/TechIcon';
---

<section id="skills" class="py-20 md:py-32 px-4">
  <div class="container mx-auto max-w-6xl">
    <!-- Section Header -->
    <div class="mb-16 text-center">
      <h2 class="text-4xl md:text-5xl font-mono font-bold text-matrix mb-4">
        Stack Tecnológico
      </h2>
      <p class="text-gray-400 text-lg">
        Tecnologías con las que trabajo
      </p>
    </div>

    <!-- Skills Grid - Icon Only -->
    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
      {skillsData.categories.map((category, categoryIndex) => (
        <div
          class="terminal-card hover:shadow-glow-matrix transition-all duration-300"
          style={`animation-delay: ${categoryIndex * 0.1}s;`}
        >
          <!-- Category Header -->
          <div class="mb-6 pb-4 border-b border-border-light">
            <h3 class="text-lg font-mono font-semibold text-gray-400">
              {category.name}
            </h3>
          </div>

          <!-- Skills Icons Grid -->
          <div class="grid grid-cols-3 gap-4">
            {category.skills.map((skill, skillIndex) => (
              <div
                class="skill-icon-item group relative flex items-center justify-center p-4"
                style={`animation-delay: ${(categoryIndex * 0.1) + (skillIndex * 0.05)}s;`}
                title={skill.name}
              >
                <TechIcon
                  name={skill.name}
                  className="text-5xl transition-all duration-300 hover:scale-110 cursor-pointer text-gray-300 hover:text-matrix"
                  client:load
                />
                <!-- Tooltip on hover -->
                <div class="absolute -bottom-10 left-1/2 -translate-x-1/2 bg-black border border-border-light px-3 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10" style="border-radius: 8px;">
                  <span class="text-xs font-mono text-gray-300">{skill.name}</span>
                </div>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .skill-icon-item {
    opacity: 0;
    animation: fadeIn 0.6s ease-out forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>
